{"version":3,"sources":["components/faq/hidden-faq/HiddenFaq.js","components/faq/developed-faq/DevelopedFaq.js","components/faq/Faq.js","App.js","index.js"],"names":["BootstrapButton","withStyles","root","borderRadius","boxShadow","textTransform","fontSize","padding","lineHeight","backgroundColor","border","fontFamily","join","Button","useStyles","makeStyles","theme","margin","HiddenFaq","classes","className","variant","color","disableRipple","CssTextField","marginTop","borderBottomColor","width","height","borderColor","TextField","language","window","lang","DevelopedFaq","state","isLoading","textFieldValue","topicsList","filteredList","fetchList","props","setState","console","log","topics","renderTopicsList","list","newList","map","mainTopic","content","topic","subTopic","question","push","length","index","key","questionId","href","filterTopics","indexOf","response","toLowerCase","includes","renderSearchBar","value","onChange","handleTextFieldChange","placeholder","id","e","target","this","onClick","toggleFAQ","Component","Faq","displayFAQ","renderFAQ","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1d0fe0ae.chunk.js","sourcesContent":["import React from \"react\";\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport \"./hidden-faq.css\";\n\nconst BootstrapButton = withStyles({\n  root: {\n    borderRadius: \"20px\",\n    boxShadow: \"none\",\n    textTransform: \"none\",\n    fontSize: 16,\n    padding: \"6px 20px\",\n    lineHeight: 1.5,\n    backgroundColor: \"#009FE5\",\n    border: \"none\",\n    fontFamily: [\n      \"Roboto\",\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"'\n    ].join(\",\"),\n    \"&:hover\": {\n      backgroundColor: \"#0B1A4C !important\",\n      boxShadow: \"none !important\"\n    },\n    \"&:active\": {\n      boxShadow: \"none !important\",\n      backgroundColor: \"#0B1A4C !important\"\n    },\n    \"&:focus\": {\n      backgroundColor: \"#0B1A4C !important\",\n      boxShadow: \"none !important\"\n    }\n  }\n})(Button);\n\nconst useStyles = makeStyles(theme => ({\n  margin: {\n    margin: 0\n  }\n}));\n\nconst HiddenFaq = () => {\n  const classes = useStyles();\n\n  const renderHelpButton = () => {\n    return (\n      <BootstrapButton\n        variant=\"contained\"\n        color=\"primary\"\n        disableRipple\n        className={classes.margin}\n      >\n        <i className=\"fa fa-comment\"></i>Help\n      </BootstrapButton>\n    );\n  };\n  return <div className=\"hidden-faq\">{renderHelpButton()}</div>;\n};\n\nexport default HiddenFaq;\n","import React, { Component } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport \"./developed-faq.css\";\nimport topics from \"../../../topics\";\n\nconst CssTextField = withStyles({\n  root: {\n    backgroundColor: \"white\",\n    borderRadius: \"5px\",\n    marginTop: \"15px\",\n    fontFamily: \"Montserrat\",\n    \"& .MuiInput-underline:after\": {\n      borderBottomColor: \"#0B1A4C\"\n    },\n    \"& .MuiOutlinedInput-root\": {\n      width: \"210px\",\n      height: \"40px\",\n      \"& fieldset\": {\n        borderColor: \"#0B1A4C !important\"\n      },\n      \"& :hover fieldset\": {\n        borderColor: \"#0B1A4C !important\"\n      },\n      \"& .Mui-focused fieldset\": {\n        borderColor: \"#0B1A4C !important\"\n      }\n    }\n  }\n})(TextField);\n\n// SET TO \"fr\" FOR localhost:3000 RENDER, AS IT GET LANGUAGE PARAMETER FROM WINDOW\nlet language = window.lang || \"fr\";\n\nclass DevelopedFaq extends Component {\n  state = {\n    isLoading: true,\n    textFieldValue: \"\",\n    topicsList: {},\n    filteredList: []\n  };\n\n  componentDidMount() {\n    this.fetchList();\n  }\n\n  fetchList = () => {\n    if (window.props) {\n      this.setState({ topicsList: window.props, isLoading: false }, () =>\n        console.log(window.props, \"window-props\")\n      );\n    } else {\n      this.setState({ topicsList: topics, isLoading: false }, () =>\n        console.log(topics, \"topics\")\n      );\n    }\n  };\n\n  renderTopicsList = () => {\n    const { filteredList, textFieldValue, topicsList } = this.state;\n    let list = null;\n    let newList = [];\n\n    // GET A CLEAN AND ORDERED LIST OF ALL TOPICS\n    if (!textFieldValue) {\n      topicsList[language].map(mainTopic => {\n        return mainTopic.content.map(topic => {\n          return topic.content.map(subTopic => {\n            console.log(newList);\n            if (subTopic.question) {\n              newList.push(subTopic);\n            }\n          });\n        });\n      });\n    }\n\n    // SELECT BETWEEN FULL OR FILTERED LIST\n    if (!textFieldValue) {\n      list = newList;\n    } else {\n      list = filteredList;\n    }\n\n    // RENDER AN ORDERED LIST\n    return (\n      <ul>\n        {textFieldValue && filteredList.length === 0 ? (\n          <div className=\"no-result\">No result</div>\n        ) : (\n          list.map((topic, index) => {\n            return (\n              <li key={topic.questionId}>\n                <div className=\"topic-index\">{`${index + 1}. `}</div>\n                <a\n                  href={`/tma_apps/faq?questionId=${topic.questionId}#${topic.questionId}`}\n                >\n                  {topic.question}\n                </a>\n              </li>\n            );\n          })\n        )}\n      </ul>\n    );\n  };\n\n  filterTopics = () => {\n    const { textFieldValue, topicsList } = this.state;\n    let newList = [];\n    topicsList[language].map(mainTopic =>\n      mainTopic.content.map(topic =>\n        topic.content.map(subTopic => {\n          if (\n            newList.indexOf(subTopic) === -1 &&\n            subTopic.response\n              .toLowerCase()\n              .includes(textFieldValue.toLowerCase())\n          ) {\n            newList.push(subTopic);\n          }\n        })\n      )\n    );\n    console.log(newList, \"new\");\n    this.setState({ filteredList: newList });\n    newList = [];\n  };\n\n  renderSearchBar = () => {\n    return (\n      <CssTextField\n        value={this.state.textFieldValue}\n        onChange={this.handleTextFieldChange}\n        className=\"search-bar\"\n        placeholder=\"Parcourez notre FAQ\"\n        variant=\"outlined\"\n        id=\"custom-css-outlined-input\"\n      />\n    );\n  };\n\n  handleTextFieldChange = e => {\n    this.setState(\n      {\n        textFieldValue: e.target.value\n      },\n      () => this.filterTopics()\n    );\n  };\n\n  render() {\n    if (!this.state.isLoading) {\n      return (\n        <div className=\"developed-faq shadow\">\n          <div className=\"faq-header\">\n            Help\n            <i\n              className=\"fa fa-minus fas\"\n              onClick={() => this.props.toggleFAQ()}\n            />\n            <>{this.renderSearchBar()}</>\n          </div>\n          <div className=\"questions-list\">\n            <div className=\"title\">Topics</div>\n            <>{this.renderTopicsList()}</>\n          </div>\n        </div>\n      );\n    }\n    return <div></div>;\n  }\n}\n\nexport default DevelopedFaq;\n","import React, { Component } from \"react\";\nimport \"./faq.css\";\nimport HiddenFaq from \"./hidden-faq/HiddenFaq\";\nimport DevelopedFaq from \"./developed-faq/DevelopedFaq\";\n\nclass Faq extends Component {\n  state = { displayFAQ: false };\n\n  toggleFAQ = () => {\n    this.setState({ displayFAQ: !this.state.displayFAQ });\n    console.log(window.lang)\n  };\n\n  renderFAQ = () => {\n    const { displayFAQ } = this.state;\n    if (displayFAQ) {\n      return (\n        <div className=\"faq-display\">\n          <DevelopedFaq toggleFAQ={this.toggleFAQ} />\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"faq-hidden\" onClick={() => this.toggleFAQ()}>\n          <HiddenFaq />\n        </div>\n      );\n    }\n  };\n\n  render() {\n    return <div className=\"Faq\">{this.renderFAQ()}</div>;\n  }\n}\n\nexport default Faq;\n","import React from \"react\";\nimport \"./App.css\";\nimport Faq from \"./components/faq/Faq\";\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <Faq/>\n    </div>\n  );\n};\n\nexport default App;\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable'\n// import cssVars from 'css-vars-ponyfill';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n// cssVars({\n//     include: 'style',\n//     onlyLegacy: false,\n//     watch: true,\n//     onComplete(cssText, styleNode, cssVariables) {\n//     //   console.log(cssVariables);\n//     }\n//   });\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}